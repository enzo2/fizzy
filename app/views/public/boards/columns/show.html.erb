<% @page_title = "Column: #{ @column.name }" %>

<% content_for :header do %>
  <div class="header__actions header__actions--start">
    <%= link_to published_board_url(@column.board), class: "btn btn--back borderless txt-medium", data: { controller: "hotkey", action: "keydown.left@document->hotkey#click" } do %>
      <%= icon_tag("arrow-left") %>
      <strong class="btn--back__label overflow-ellipsis">Back to <%= @column.board.name %></strong>
      <kbd class="txt-x-small hide-on-touch">&larr;</kbd>
    <% end %>
  </div>

  <h1 class="header__title divider divider--fade full-width">
    <span class="overflow-ellipsis"><%= @page_title %></span>
  </h1>
<% end %>

<section class="cards cards--grid">
  <%= turbo_frame_tag @column, :cards do %>
    <% if @page.used? %>
      <%= with_automatic_pagination dom_id(@column, :cards), @page do %>
        <%= render "public/boards/columns/list", cards: @page.records %>
      <% end %>
    <% else %>
      <div class="card blank-slate blank-slate--card">
        <p class="txt-align-center txt-normal">No cards here</p>
      </div>
    <% end %>
  <% end %>
</section>

<% content_for :footer do %>
  <%= render "public/footer" %>
<% end %>

